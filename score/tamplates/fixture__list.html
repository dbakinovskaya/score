{% extends 'base.html' %}

{% block content %}
    <h1>Fixtures List</h1>
    
    <form method="get" action="{% url 'fixtures_list' %}">
        <label for="season_id">Season:</label>
        <select name="season_id" id="season_id">
            {% for season in seasons %}
                <option value="{{ season.id }}" {% if season.id == selected_season %}selected{% endif %}>{{ season.name }}</option>
            {% endfor %}
        </select>
        
        <label for="league_id">League:</label>
        <select name="league_id" id="league_id">
            {% for league in leagues %}
                <option value="{{ league.id }}" {% if league.id == selected_league %}selected{% endif %}>{{ league.name }}</option>
            {% endfor %}
        </select>
        
        <button type="submit">Filter</button>
    </form>
    
    {% if fixtures_list %}
        <table>
            <thead>
                <tr>
                    <th>League</th>
                    <th>Home Team</th>
                    <th>Away Team</th>
                    <th>Date</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for fixture in fixtures_list %}
                    <tr>
                        <td>{{ fixture.league_name }}</td>
                        <td>{{ fixture.home_team_name }}</td>
                        <td>{{ fixture.away_team_name }}</td>
                        <td>{{ fixture.event_date }}</td>
                        <td>{{ fixture.status }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No fixtures found.</p>
    {% endif %}
{% endblock %}

